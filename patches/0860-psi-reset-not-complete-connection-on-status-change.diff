--- psi.orig/src/psiaccount.cpp
+++ psi/src/psiaccount.cpp
@@ -2845,6 +2845,10 @@ void PsiAccount::setStatus(const Status 
 		}
 		// change status
 		else {
+			if (!isConnected()) {
+				disconnect();
+				login();
+			}
 			if(rosterDone) {
 				setStatusDirect(s, withPriority);
 			}
